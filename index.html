<!DOCTYPE html>
<html>
    <head>
        <title>Monopoly</title>

        <link rel="stylesheet" href="layout.css">
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="theme.css">
        <link rel="stylesheet" href="deed.css">
        <link rel="stylesheet" href="board.css">
    </head>

    <body>
        <dialog id="newgame-dialog">
            <h1>New Game</h1>

            <hr>

            <h2>Add Player</h2>
            <div class="fullwide hstack">
                <input id="name-input" class="expand" type="text" placeholder="Insert player name here...">
                <button id="add-button" onclick="addPlayer()">Add</button>
            </div>

            <h2>Existing Players</h2>
            <table class="players-table">
                <thead>
                    <tr class="header-row">
                        <th>Name</th>
                        <th>Color</th>
                        <th>Turn Order</th>
                    </tr>
                </thead>

                <tbody id="existing-players">
                </tbody>
            </table>

            <button onclick="randomizeTurnOrder()">Randomize Turn Order</button>
            <button onclick="startGame()" id="start-button" disabled="true">Start Game</button>
        </dialog>

        <div id="game">
            <header>
                <h1 class="game-title">HTML Monopoly</h1>

                <nav>
                    <ul class="hstack">
                        <li class="item" onclick="showBoard()">Board</li>
                        <li class="item" onclick="showAssets()">Assets</li>
                        <li class="item" onclick="showBank()">Bank</li>
                        <li class="item" onclick="showSettings()">Settings</li>
                    </ul>
                </nav>
            </header>
    
            <!-- Board tab -->
            <div class="tab hidden">
                <div class="board-container">
                    <div class="overlay">
                        <h1>Game In Progress</h1>

                        <hr>

                        <h2>Players</h2>
                        <div id="turn-container">
                        </div>
                        
                        <h2>Log</h2>
                        <textarea id="output-log" readonly="true"></textarea>

                        <h2>Actions</h2>
                        <div class="player-actions hstack">
                            <button>Roll</button>
                            <button>Trade</button>
                            <button>End Turn</button>
                        </div>
                    </div>
            
                    <div class="board">
                        <div class="vstack">
                            <!-- board top -->
                            <div class="hstack side" id="s3">
                                <!-- TODO: go to jail corner -->
                                <board-corner square="30" style="border-width: 1px 1px 4px 4px"></board-corner>
                                <board-property square="29"></board-property> <!-- Marvin Gardens -->
                                <board-utility square="28"></board-utility>   <!-- Water Works -->
                                <board-property square="27"></board-property> <!-- Ventnor Avenue -->
                                <board-property square="26"></board-property> <!-- Atlantic Avenue -->
                                <board-railroad square="25"></board-railroad> <!-- B. & O. Railroad -->
                                <board-property square="24"></board-property> <!-- Illinois Avenue -->
                                <board-property square="23"></board-property> <!-- Indiana Avenue -->
                                <board-iconic square="22"></board-iconic>     <!-- Chance -->
                                <board-property square="21"></board-property> <!-- Kentucky Avenue -->
                                <!-- TODO: free parking corner -->
                                <board-corner square="20" style="border-width: 1px 4px 4px 1px"></board-corner> 
                            </div>
                
                            <!-- board left and right -->
                            <div class="hstack">
                                <!-- board left -->
                                <div class="rotation-wrapper-outer">
                                    <div class="rotation-wrapper-inner">
                                        <div class="hstack side" id="s2">
                                            <board-property square="19"></board-property> <!-- New York Avenue -->
                                            <board-property square="18"></board-property> <!-- Tennessee Avenue -->
                                            <board-iconic square="17"></board-iconic>     <!-- Community Chest -->
                                            <board-property square="16"></board-property> <!-- St. James Place -->
                                            <board-railroad square="15"></board-railroad> <!-- Pennsylvania Railroad -->
                                            <board-property square="14"></board-property> <!-- Virginia Avenue -->
                                            <board-property square="13"></board-property> <!-- States Avenue -->
                                            <board-utility square="12"></board-utility>   <!-- Electric Company -->
                                            <board-property square="11"></board-property> <!-- St. Charles Place -->
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- board right -->
                                <div class="hstack side" id="s4">
                                    <board-property square="39"></board-property> <!-- Boardwalk -->
                                    <board-tax square="38"></board-tax>           <!-- Luxury Tax -->
                                    <board-property square="37"></board-property> <!-- Park Place -->
                                    <board-iconic square="36"></board-iconic>     <!-- Chance -->
                                    <board-railroad square="35"></board-railroad> <!-- Short Line-->
                                    <board-property square="34"></board-property> <!-- Pennsylvania Avenue -->
                                    <board-iconic square="33"></board-iconic>     <!-- Community Chest -->
                                    <board-property square="32"></board-property> <!-- North Carolina Avenue -->
                                    <board-property square="31"></board-property> <!-- Pacific Avenue -->
                                </div>  
                            </div>
                
                            <!-- board bottom -->
                            <div class="hstack side" id="s1">
                                <!-- TODO: jail corner -->
                                <board-corner square="10" style="border-width: 1px 1px 4px 4px"></board-corner>
                                <board-property square="9"></board-property> <!-- Connecticut Avenue-->
                                <board-property square="8"></board-property> <!-- Vermont Avenue -->
                                <board-iconic square="7"></board-iconic>     <!-- Chance -->
                                <board-property square="6"></board-property> <!-- Oriental Avenue -->
                                <board-railroad square="5"></board-railroad> <!-- Reading Railroad-->
                                <board-tax square="4"></board-tax>           <!-- Income Tax-->
                                <board-property square="3"></board-property> <!-- Baltic Avenue -->
                                <board-iconic square="2"></board-iconic>     <!-- Commmunity Chest -->
                                <board-property square="1"></board-property> <!-- Mediterranean Avenue -->
                                <!-- TODO: go corner -->
                                <board-corner square="0" style="border-width: 1px 4px 4px 1px"></board-corner>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="tab vstack hidden">
                <h2>Assets</h2>

                <h3>Player Accounts</h3>
                <table>
                    <thead>
                        <tr class="header-row">
                            <th>Name</th>
                            <th>Available Balance</th>
                            <th>Net Worth</th>
                        </tr>
                    </thead>

                    <tbody id="assets-players">
                    </tbody>
                </table>

                <h3>My Titles</h3>
                <div class="asset-container">
                    <title-deed name="Test" rent0="0" rent1="1" rent2="2" rent3="3" rent4="4" rent5="5" mortval="100" devcost="50"></title-deed>
                    <title-deed name="Test" rent0="0" rent1="1" rent2="2" rent3="3" rent4="4" rent5="5" mortval="100" devcost="50"></title-deed>
                    <title-deed name="Test" rent0="0" rent1="1" rent2="2" rent3="3" rent4="4" rent5="5" mortval="100" devcost="50"></title-deed>

                    <railroad-deed name="READING RAILROAD"></railroad-deed>

                    <utility-deed name="ELECTRIC COMPANY" icon="&#x1F4A1;"></utility-deed>
                    <utility-deed name="WATER WORKS" icon="&#x2550;&#x2567;&#x2555;"></utility-deed>
                </div>
            </div>
    
            <div class="tab vstack hidden">
                <h2>Bank</h2>

                <h3>Improvements</h3>
                <table>
                    <thead>
                        <tr class="header-row">
                            <th>Type</th>
                            <th>Available</th>
                            <th>In Use</th>
                            <th>Total</th>
                        </tr>
                    </thead>

                    <tbody id="property-container">
                    </tbody>
                </table>
                
                <h3>Trading</h3>
                <div class="hstack">
                    <label>Initiate trade with...
                        <select id="initiate-trade">
                            <option>Player 1</option>
                            <option>Player 2</option>
                            <option>Player 3</option>
                            <option>Player 4</option>
                        </select>
                    </label>
    
                    <button>Go</button>
                </div>
            </div>
    
            <div class="tab hidden">
                <h2>Settings</h2>
                
            </div>
        </div>
    </body>

    <script src="deed.js"></script>
    <script src="index.js"></script>
    <script src="game.js"></script>
    <script src="board.js"></script>
</html>